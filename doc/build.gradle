buildscript {
    repositories {
        mavenCentral()
    }

}


plugins {
    id("java")
    id 'org.asciidoctor.jvm.convert' version '4.0.2'
    id("org.asciidoctor.jvm.pdf") version "4.0.4"
    id("org.asciidoctor.jvm.gems") version "4.0.4"
}

dependencies {
    asciidoctorGems 'rubygems:rouge:3.15.0'
}

task distribution {
    asciidoctor
    asciidoctorPdf
}

asciidoctorPdf {

    baseDir "src/docs/asciidoc "


    dependsOn asciidoctorGemsPrepare


    asciidoctorj {
        attributes  'build-gradle': file('build.gradle'),
                'sourcedir': file('src/docs/asciidoc')

        sources {
            include 'RRdecoder.adoc'
        }
    }

}

asciidoctor {
    attributes  stylesheet: 'src/docs/styles/special.css'


    outputOptions {
        backends = ['html5', 'pdf']
    }

    sources {
        include 'RRdecoder.adoc'
    }
}
